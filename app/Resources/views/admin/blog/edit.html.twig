{% extends 'admin/layout.html.twig' %}

{% block body_id 'admin_post_edit' %}

{% block main %}
    <h1>{{ 'title.edit_post'|trans({'%id%': post.id}) }}</h1>

    {{ include('admin/blog/_form.html.twig', {
        form: form,
        button_label: 'action.save'|trans,
        include_back_to_home_link: true,
    }, with_context = false) }}
{% endblock %}

{% block sidebar %}
    <div class="section actions">
        {{ include('admin/blog/_delete_form.html.twig', { post: post }, with_context = false) }}
    </div>

    <div class="section actions">
        <form action="{{ url('admin_post_edit_workflow', { id: post.id }) }}" method="post">
            <div class="btn-toolbar" role="toolbar">
                {% for transition in workflow_transitions(post) %}
                    <button value="{{ transition.name }}"
                        name="transition" type="submit"
                        class="btn btn-primary btn-lg"
                    >
                        {{ transition.name|title }}
                    </button>
                {% endfor %}
            </div>
            <input type="hidden" name="token" value="{{ csrf_token('') }}">
        </form>
    </div>

    {{ parent() }}

    {{ show_source_code(_self) }}
{% endblock %}
