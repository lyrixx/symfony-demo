framework:
    workflows:
        post:
            audit_trail: true
            supports: AppBundle\Entity\Post
            marking_store:
                type: single_state
                arguments: [status]
            type: state_machine
            places: [new, accepted, published]
            transitions:
                accept:
                    from: new
                    to: accepted
                reject:
                    from: accepted
                    to: new
                publish:
                    from: accepted
                    to: published
                    guard: has_role('ROLE_ADMIN')
                unpublish:
                    from: published
                    to: accepted
                    guard: has_role('ROLE_ADMIN')

